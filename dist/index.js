this["dist/index"]=this["dist/index"]||{},this["dist/index"].js=function(e){"use strict";var t,o="http://source-of-truth.com:3099/iframe.html",n="/test-data-response",r="/test-data-request",s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},i=Object.prototype.hasOwnProperty;function u(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var c={stringify:function(e,o){o=o||"";var n,r,s=[];for(r in"string"!=typeof o&&(o="?"),e)if(i.call(e,r)){if((n=e[r])||null!==n&&n!==t&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;s.push(r+"="+n)}return s.length?o+s.join("&"):""},parse:function(e){for(var t,o=/([^=?&]+)=?([^&]*)/g,n={};t=o.exec(e);){var r=u(t[1]),s=u(t[2]);null===r||null===s||r in n||(n[r]=s)}return n}},l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function f(e){return(e||"").toString().replace(h,"")}var d=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function w(e){var t,o=("undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{}).location||{},n={},r=typeof(e=e||o);if("blob:"===e.protocol)n=new g(unescape(e.pathname),{});else if("string"===r)for(t in n=new g(e,{}),m)delete n[t];else if("object"===r){for(t in e)t in m||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=l.test(e.href))}return n}function y(e){e=f(e);var t=p.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function g(e,t,o){if(e=f(e),!(this instanceof g))return new g(e,t,o);var n,r,s,i,u,l,p=d.slice(),h=typeof t,m=this,v=0;for("object"!==h&&"string"!==h&&(o=t,t=null),o&&"function"!=typeof o&&(o=c.parse),t=w(t),n=!(r=y(e||"")).protocol&&!r.slashes,m.slashes=r.slashes||n&&t.slashes,m.protocol=r.protocol||t.protocol||"",e=r.rest,r.slashes||(p[3]=[/(.*)/,"pathname"]);v<p.length;v++)"function"!=typeof(i=p[v])?(s=i[0],l=i[1],s!=s?m[l]=e:"string"==typeof s?~(u=e.indexOf(s))&&("number"==typeof i[2]?(m[l]=e.slice(0,u),e=e.slice(u+i[2])):(m[l]=e.slice(u),e=e.slice(0,u))):(u=s.exec(e))&&(m[l]=u[1],e=e.slice(0,u.index)),m[l]=m[l]||n&&i[3]&&t[l]||"",i[4]&&(m[l]=m[l].toLowerCase())):e=i(e);o&&(m.query=o(m.query)),n&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=o.length,r=o[n-1],s=!1,a=0;n--;)"."===o[n]?o.splice(n,1):".."===o[n]?(o.splice(n,1),a++):a&&(0===n&&(s=!0),o.splice(n,1),a--);return s&&o.unshift(""),"."!==r&&".."!==r||o.push(""),o.join("/")}(m.pathname,t.pathname)),a(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(i=m.auth.split(":"),m.username=i[0]||"",m.password=i[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}g.prototype={set:function(e,t,o){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||c.parse)(t)),n[e]=t;break;case"port":n[e]=t,a(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!o;break;case"pathname":case"hash":if(t){var r="pathname"===e?"/":"#";n[e]=t.charAt(0)!==r?r+t:t}else n[e]=t;break;default:n[e]=t}for(var s=0;s<d.length;s++){var i=d[s];i[4]&&(n[i[1]]=n[i[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(e){e&&"function"==typeof e||(e=c.stringify);var t,o=this,n=o.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var r=n+(o.slashes?"//":"");return o.username&&(r+=o.username,o.password&&(r+=":"+o.password),r+="@"),r+=o.host+o.pathname,(t="object"==typeof o.query?e(o.query):o.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(r+=o.hash),r}},g.extractProtocol=y,g.location=w,g.trimLeft=f,g.qs=c;var v=g,b=function(e){return new v(e).hostname};return e.appAdapterTest=function(){return new Promise(function(e){var t=function(r){var s=r.origin,i=r.data;try{var u=JSON.parse(i);b(s)===b(o)&&u.path===n&&(window.removeEventListener("message",t),window.document.body.removeChild(a),e(u.data))}catch(e){}};window.addEventListener("message",t,!1);var s={path:r},a=document.createElement("iframe");a.src=o,a.style.display="none",a.onload=function(){return a.contentWindow.postMessage(JSON.stringify(s),o)},window.document.body.appendChild(a)})},e}({});
//# sourceMappingURL=index.js.map
